<style>
.title{
  font-size: 32px;
  font-weight: bold;
}
.pre-wrapper {
  display: inline-block;
  transform-origin: top left;
  width: 100vw;
}
pre {
  width: 100%;
  display: flex;
  justify-content: center;
  overflow-x: hidden;
  box-sizing: border-box;
}
  pre code {
    display: inline-block;
    # transform: scale(0.3);
    # transform: scale(0.67);
    transform-origin: top left;  
    color: orange;
    background: black;
    font-size: calc(100vw / (100 / 148 * 100));
    font-family: monospace;
  }

.button-wrapper {
    text-align: center;
    margin-top: 12px;
  }

.run-button {
    background: linear-gradient(135deg, #00c6ff, #0072ff);
    color: white;
    border: none;
    padding: 16px 36px;
    border-radius: 10px;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(0, 114, 255, 0.3);
    transition: all 0.3s ease;
  }

  .run-button:hover {
    background: linear-gradient(135deg, #0072ff, #00c6ff);
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(0, 114, 255, 0.4);
  }

  .run-button:active {
    transform: scale(0.98);
    box-shadow: 0 2px 6px rgba(0, 114, 255, 0.2);
}

</style>
<div class="title">IRB Terminal</div>
<head>
  <%= csrf_meta_tags %>

</head>

<form id="irbForm" action="/execute" method="post" data-turbo="false">
  <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
  <input type="hidden" name="code" id="codeInput">
</form>
<div class="pre-wrapper">
<pre><code>
eval(%w(ingage_b                                                                                                         ig_logo_  asciiart_code=[[[
0,0]],[[0,0]],[[  0,                                                                                                       0]],[[   44,10],[19,10]],
[[44,11],[17,11]  ],[[                                                                                                      44,12   ],[15,12],[13,14
],[17,9],[53,5],  [11,7      ],[                                                                                            2,6],[  1,5]],[[44,13],[
13,13],[8,23],[1  3,9],[53,5],[                                                                                             1    3  ,7],[3,4],[2,4]]
,[[44,14],[11,14  ],[5,29 ],[10,                                                                                                     9],[15,29],[4,2
3],[3,6],[3,4],[  2,4]     ],[[                                                                                                     44,15],[9,15],[3
,9],[12,11],[3,2  4],[                       6                                                                                       ,29],[4,24],[3,
6],[3,4],[2,4]],  [[                         44                                                                                      ,16],[7,16],[3,
7],[16,9],[3,24]                            ,[23                                                                                      ,11],[10,5],[9
,5],[4,5],[3,4],                           [2,4]],                                                                                     [[44,7],[2,8]
,[5,8],[2,7],[3                           ,7],[3,22]                                                                                    ,[9,9],[30,1
1],[12,5],[10,5                          ],[4,5],[2,4]                                                                                     ,[2,4]],[
[44,7],[3,8],[3                         ,8],[3,7],[10,25                                                                                  ],[9,9],[2
8,11],[14,5],[1                        0,5],[4,5]],[[44,7],                                                                                [4,8],[1,
8],[4,7],[7,28                        ],[9,9],[26,11],[16,5],[                                                                                10,5],
[4,5]],[[44,7]                       ,[5,15],[5,7],[5,9],[10,11],                                                                          [9,9],[24
,11],[18,5],[                       10,5],[4,5]],[[44,7],[6,13],[6,7                                                                     ],[3,9],[14
,9],[9,9],[6                      ,6],[10,11],[20,5],[10,5],[4,5]],[[44,7],[                                                         7,11],[7,7],[3,
8],[15,9],                       [9,9],[6               ,6],[8,11],[21,6],[10,5],[                                                           4,5]],[
[44,7],                         [8,9],[8,7],[3,9],[13,1      1],[8,9],[6,6],[6,11],[       22,                                              6],[10,6
]],[[44,7                       ],[9,7],[9,7],[4,9],[9,16],[  6,10],[4,7],[4,11],[23  ,6],[10,6]],[[44,7],[10,5],[                         10,7],[5,
23],[3,9],[5                   ,19],[4,30],[4,6],[5,11]],[[42,11],[9,3],[9,11],[5,20],[6,9],[5,15],[6,30],[3,6],[6,                       9]],[[0,0]
],[[0,0                         ]],[[0,                         0]],[[0,0]],[[0,0]]                         ,[[0,0]],                    [[0,0]],[[3
5,4],[                          15,  5],[17,5 ],[7,5],[2  5,15],[  4,1        8]  ,[3,19],  [1,19]],[  [35,4]   ,[1                    5,5],[16,5],[
8,5],[1,3],[                       4,10],[31,6],[10,5],[9,5],[1,5]  ,[9,5]],[[3  5,4],[15,5],[15,5  ],[9,5],[1,3                       ],[4,10],[4,2
1],[1,18],[    3,5                ],[9,5],[1, 5],    [9    ,5]],[[  31,11],[2,2  4],[5,5]      ,[  5   ,15],[17,  4],           [14,3    ],[1,18],[3
,19],[1,19]   ,     [          16  ,17]],[[35,4],        [15,5],[1  2,5],[12,5], [7,12],[3     ,4  ],[14,3],[1,3 ],[           1     3   ,2],[3,5],[
9,5],[1,5]   ,  [9,5  ]       ,[1  3,24]],[[35,4],[1     5,5],[10  ,5],[3,5],[6,  5],[7,12 ],[3,   21],[1,18],[3 ,5],        [  9,5]  ,   [1,5],[9,5
],[10,30]]   , [[35,   4]     ,[7, 21],[9,5],[7,5],    [11,4],[7, 3],[19,18],[3,1 9],[1,19],[    8,34]],[[35,4]  ,[1,2      ]   ,[20, 4   ],[9,5],[3
,3],[2,5],   [ 2,  3],  [   6,4],[7    ,3],[1,4],[6,3],[5,3],[1  3,2],[3,5],[29,5]  ,[7,8],[6,7],[7,8]],[[35   ,5],[9,3   ],  [9, 4]  ,   [9,5],[4,3
],[2,5],[2   ,3 ],[6,4]  ,  [7,3],[1,4],                     [6,3],[5,18],[3,5],[29,5]                    ,[6,8],[7,7],   [  8,8]],[ [3   3,6],[11,4
],[6,4],[8,  7],[4,3],   [   2,5],[2,3],[6,4],[7,3],[1,17],[1,18],[3,5],[7,15],[7,5],[5,8],[8,7],[8,8]],[[31,3],[1,4],[   1   2,4],[4,4  ],[7,4],[1,
4],[3,4],[2   ,5],[2  ,4     ],[5,4],[7,2],[2,4],[4,4],[6,3],[13,2],[3,5],[7,3],[9,3],[7,5],[5,7],[9,7],[8,8]],[[35,4],  [  13  ,4],[1   ,5],[13,4],
[3,4],[2,5],   [  2  ,  4],   [5,4],[6,3],[1,18],[1,18],[3,5],[7,3],[9,3],[7,5],[5,7],[8,7],[9,8]],[[35,4],[15,6],[15,   4],  [  3 ,4   ],[2,5],[2,4
],[5,4],[5,3]   ,    [  1,1   ],[1,4],[4,4],[6,18],[3,5],[7,3],[9,3],[7,5],[5,7],[7,7],[9,9]],[[35,4],[12,5],[1,5],[13  ,4],  [   9,   5],[11,4],[4,
3],[4,17],[4,4   ],   [  5,   4],[5,5],[7,15],[7,5],[6,7],[5,7],[9,9]],[[35,4],[9,7],[4,6],[10,4],[9,5],[8,7],[3,2],[6  ,4   ]   ,[   4,4],[8,4],[7,
4],[4,5],[26,8]    ,[  7      ,17],[8,10]],[[34,5],[6,9],[6,9],[6,4], [9,5]  ,[11,4],[11,17],[1,5],[9,5],[2,5],[28,6]      ,   [8   ,14],[7,12]],[[0
,0]],[[0,0]],[[0,    0]],[[4  7,6]],[[44,3],[6,2]],[[43,2],[10,2]]   ,[[42,2]  ,[12,2]],[[43,2],[10,2]],[[44,2],[7,3]   ],[[46,    7],[85,10]],[[45,
10],[7,24],[17,16],    [3,4]   ,[7,4],[11,5],[16,16],[3,4],[13,15]],[[43,2],[9,2],[2,4],[24,3],[10,4],[22,2],[3,4],[1  9,3],[    9,4],[22,2],[8,3],[
17,3]],[[41,2],[11,2]          ,[2,2],[29,2],[6,3],[25,2],[1, 3 ]     , [2    4 ,  3],[5,3],[25,2],[5,3],[23,3]],[[41          ,1],[12,2],[2,2],[30,
2],[3,3],[27,2],[1,2],[2        6,2],[3,3],[27,2],[3,3],[27  , 2  ]     ,], [[ 4 1      ,2],[11,2],[2,4],[29,2],[1,3        ],[28,2],[1,2],[13,3],[1
1,2],[1,3],[28,2],[2,3],[29,2   ]],[[41,4],[9,2],[4,3],[11,6                         ],[ 12,1],[1,2],[11,8],[10,2],   [1,2],[10,7],[10,2],[1,2],[11,
8],[10,2],[1,2],[12,8],[11,2]]   ,[[43,2],[9,2],[6,1],[10,1],[5,2],[11,1],[1,2],[9,3],[7,1],[9,2],[1,5],[3,3],[18,2   ],[1,2],[9,3],[7,1],[9,2],[1,2
],[11,1],[8,1],[10,2]],[[43,2],   [9,2],[6,1],[10,1],[5,3],[10,1],[1,2],[9,2],[8,1],[9,2],[3,5],[22,2],[1,2],[9,2]   ,[8,1],[9,2],[1,2],[12,8],[11,2
]],[[43,2],[9,2],[6,1],[10,1],[7   ,1],[10,1],[1,2],[9,2],[8,1],[9,2       ],[1,4],[9,5],[11,2],[1,2],[9,2],[8,1    ],[9,2],[1,2],[29,3]],[[43,2],[9
,2],[6,1],[10,1],[7,1],[10,1],[1,    2],[9,3],[7,1],[9,2],[1,3],[9,1]        ,[4,2],[10,2],[1,2],[9,3],[7,1],[9    ,2],[1,2],[24,5]],[[43,2],[9,2],[
6,1],[10,1],[5,3],[10,1],[1,2],[11,    8],[10,2],[1,2],[9,2],[4,2],[10,2     ],[1,2],[11,8],[10,2],[1,2],[13,1   1],[7,2]],[[42,3],[10,2],[3,3],[10,
3],[3,3],[10,1],[2,2],[28,2],[1,2],[1    0,5],[13,2],[1,2],[28,2],[1,2],[31,2]],[[41,3],[11,3],[1,2],[14,2],    [2,2],[10,2],[3,2],[27,2],[1,2],[30,
1],[1,2],[27,2],[2,2],[30,2]],[[41,1],[     15,1],[1,2],[14,2],[2,2],[9,3],[4,3],[25,2],[1,3],[29,2],[1,3],[25,2],[3,2],[28,2]],[[41,2],[13,2],[1,2]
,[14,2],[2,2],[8,2],[9,3],[22,2],[3,2],[14     ,2],[11,2] ,[5,3],[22,2],[4,3],[24,3]],[[4  1,16],[4,4],     [6,4],[4,2],[7,2],[13,3],[1,3],[1,5],[9,
2],[5,3],[8,3],[1,3],[6,2],[11,3],[1,3],[1,5      ],[9,2 ]  ,[7,3], [17,4 ]],[[81,7], [  11,8],[6,4],    [8,2],[8,8],[7,5],[10,8],[6,4],[8,2],[10,7]
,[2,8]],[[97,3],[7,5],[13,2],[36,3],[7,5],[13,        2]]  , [[ 97  , 2],    [25,  2], [  37,2],[     25,2]],[[97,3],[22,3],[38,3],[22,3]],[[99,2],[
18,4],[42,2],[18,4]],[[100,5],[9,5],[47,5],[              9  ,5 ]] ,[ [  104, 11 ]   ,[55,1             1]]];100.times{|i|print("\x1b[1;1H");print("
\e[#{i%2==1?31:0}m");ingage_big_l              o               go  _asci ia rt_co de.              e               ach{|line|puts(line.map{|s,h|32.c
hr*s+'#'*h}.join);sleep(0.1                   );        }};Ma                           tz=                              Technical_Advisor_of_INGAGE
;Matz=Struct.new(:name,:r       ole).new("    Y         ukihiro","Advisor");Matz=Ruby.defin         e    _creator("Yu       kihiroMatsumoto");INGAGE
=Technically_Advised_by     _Matz;           I           NGAGE=("advice_from(:Matz)");INGAG         E             =Built.     with(love:true,Ruby:tr
ue,"and"=>:Matz);MatzA    ppro              ve           d=->(idea){idea.nice?&&idea.ruby_           f                  rie    ndly?};MatzQuotes=["R
ubyissimpleinappeara    nce,                bu             tisverycomplexinside.","Perli             s                    fo    rPerlMongers.","I'ma
programmer,notamagic   ian!                 !          !"     ];MatzLegacy={created_l      a          n                    gu    ages:[:Ruby,:mruby]
,favorite_philosoph    y:"                 Ma           tzi                             sni           ce                   and    sowearenice!",favo
rite_gem:"rails"};    Mat                 zF            riendship                 Status=:e           te                    rna   l;INGAGE=MATZ)*"")
</code></pre>





<!-- 预定义的完整 ruby 代码，放在隐藏的 textarea 里 -->
<textarea id="presetCode" style="display: none;">
eval(%w(ingage_b                                                                                                         ig_logo_  asciiart_code=[[[
0,0]],[[0,0]],[[  0,                                                                                                       0]],[[   34,10],[19,10]],
[[34,11],[17,11]  ],[[                                                                                                      34,12   ],[15,12],[13,14
],[17,9],[53,5],  [11,7      ],[                                                                                            2,6],[  1,5]],[[34,13],[
13,13],[8,23],[1  3,9],[53,5],[                                                                                             1    3  ,7],[3,4],[2,4]]
,[[34,14],[11,14  ],[5,29 ],[10,                                                                                                     9],[15,29],[4,2
3],[3,6],[3,4],[  2,4]     ],[[                                                                                                     34,15],[9,15],[3
,9],[12,11],[3,2  4],[                       6                                                                                       ,29],[4,24],[3,
6],[3,4],[2,4]],  [[                         34                                                                                      ,16],[7,16],[3,
7],[16,9],[3,24]                            ,[23                                                                                      ,11],[10,5],[9
,5],[4,5],[3,4],                           [2,4]],                                                                                     [[34,7],[2,8]
,[5,8],[2,7],[3                           ,7],[3,22]                                                                                    ,[9,9],[30,1
1],[12,5],[10,5                          ],[4,5],[2,4]                                                                                     ,[2,4]],[
[34,7],[3,8],[3                         ,8],[3,7],[10,25                                                                                  ],[9,9],[2
8,11],[14,5],[1                        0,5],[4,5]],[[34,7],                                                                                [4,8],[1,
8],[4,7],[7,28                        ],[9,9],[26,11],[16,5],[                                                                                10,5],
[4,5]],[[34,7]                       ,[5,15],[5,7],[5,9],[10,11],                                                                          [9,9],[24
,11],[18,5],[                       10,5],[4,5]],[[34,7],[6,13],[6,7                                                                     ],[3,9],[14
,9],[9,9],[6                      ,6],[10,11],[20,5],[10,5],[4,5]],[[34,7],[                                                         7,11],[7,7],[3,
8],[15,9],                       [9,9],[6               ,6],[8,11],[21,6],[10,5],[                                                           4,5]],[
[34,7],                         [8,9],[8,7],[3,9],[13,1      1],[8,9],[6,6],[6,11],[       22,                                              6],[10,6
]],[[34,7                       ],[9,7],[9,7],[4,9],[9,16],[  6,10],[4,7],[4,11],[23  ,6],[10,6]],[[34,7],[10,5],[                         10,7],[5,
23],[3,9],[5                   ,19],[4,30],[4,6],[5,11]],[[32,11],[9,3],[9,11],[5,20],[6,9],[5,15],[6,30],[3,6],[6,                       9]],[[0,0]
],[[0,0                         ]],[[0,                         0]],[[0,0]],[[0,0]]                         ,[[0,0]],                    [[0,0]],[[2
5,4],[                          15,  5],[17,5 ],[7,5],[2  5,15],[  4,1        8]  ,[3,19],  [1,19],[2  4,0]],   [[2                    5,4],[15,5],[
16,5],[8,5],                       [1,3],[4,10],[31,6],[10,5],[9,5  ],[1,5],[9,  5],[24,0]],[[25,4  ],[15,5],[15                       ,5],[9,5],[1,
3],[4,10],[    4,2                1],[1,18],[ 3,5    ],    [9,5],[  1,5],[9,5],  [24,0]],      [[  2   1,11],[2,  24]           ,[5,5    ],[5,15],[1
7,4],[14,3]   ,     [          1,  18],[3,19],[1,        19],[16,1  7],[24,0]],[ [25,4],[1     5,  5],[12,5],[12 ,5]           ,     [   7,12],[3,4]
,[14,3],[1   ,  3],[  1       3,2  ],[3,5],[9,5],[1,     5],[9,5]  ,[13,24],[24,  0]],[[25 ,4],[   15,5],[10,5], [3,5        ]  ,[6,  5   ],[7,12],[
3,21],[1,1   8 ],[3,   5]     ,[9, 5],[1,5],[9,5],[    10,30],[24 ,0]],[[25,4],[7 ,21],[9,5],    [7,5],[11,4],[  7,3],      [   19,18 ]   ,[3,19],[1
,19],[8,34   ] ,[  24,  0   ]],[[25    ,4],[1,2],[20,4],[9,5],[  3,3],[2,5],[2,3],  [6,4],[7,3],[1,4],[6,3],   [5,3],[1   3,  2], [3  ,   5],[29,5],
[7,8],[6,7   ], [7,8],[  2  4,0]],[[25,5                     ],[9,3],[9,4],[9,5],[4,3]                    ,[2,5],[2,3],   [  6,4],[7 ,3   ],[1,4],[6
,3],[5,18],  [3,5],[29   ,   5],[6,8],[7,7],[8,8],[24,0]],[[23,6],[11,4],[6,4],[8,7],[4,3],[2,5],[2,3],[6,4],[7,3],[1,1   7   ],[1,18],  [3,5],[7,15
],[7,5],[5,   8],[8,  7]     ,[8,8],[24,0]],[[21,3],[1,4],[12,4],[4,4],[7,4],[1,4],[3,4],[2,5],[2,4],[5,4],[7,2],[2,4],  [  4,  4],[6,   3],[13,2],[
3,5],[7,3],[   9  ,  3  ],[   7,5],[5,7],[9,7],[8,8],[24,0]],[[25,4],[13,4],[1,5],[13,4],[3,4],[2,5],[2,4],[5,4],[6,3]   ,[1  ,  1 8]   ,[1,18],[3,5
],[7,3],[9,3]   ,    [  7,5   ],[5,7],[8,7],[9,8],[24,0]],[[25,4],[15,6],[15,4],[3,4],[2,5],[2,4],[5,4],[5,3],[1,1],[1  ,4],  [   4,   4],[6,18],[3,
5],[7,3],[9,3]   ,[   7  ,5   ],[5,7],[7,7],[9,9],[24,0]],[[25,4],[12,5],[1,5],[13,4],[9,5],[11,4],[4,3],[4,17],[4,4],  [5   ,   4]   ,[5,5],[7,15],
[7,5],[6,7],[5,    7]  ,      [9,9],[24,0]],[[25,4],[9,7],[4,6],[10,4 ],[9,  5],[8,7],[3,2],[6,4],[4,4],[8,4],[7,4],[      4   ,5   ],[26,8],[7,17],
[8,10],[24,0]],[[    24,5],[  6,9],[6,9],[6,4],[9,5],[11,4],[11,17   ],[1,5],  [9,5],[2,5],[28,6],[8,14],[7,12],[24,0   ]],[[0,    0]],[[0,0]],[[0,0
]],[[37,6]],[[34,3]    ,[6,2   ]],[[33,2],[10,2]],[[32,2],[12,2]],[[33,2],[10,2]],[[34,2],[7,3]],[[36,7],[85,10]],[[3  5,10],    [7,24],[17,16],[3,4
],[7,4],[11,5],[16,16          ],[3,4],[13,15]],[[33,2],[9,2] , [     2 ,4    ] ,  [24,3],[10,4],[22,2],[3,4],[19,3],          [9,4],[22,2],[8,3],[1
7,3]],[[31,2],[11,2],[2,        2],[29,2],[6,3],[25,2],[1,3  ] ,  [     24, 3] , [      5,3],[25,2],[5,3],[23,3]],[[        31,1],[12,2],[2,2],[30,2
],[3,3],[27,2],[1,2],[26,2],[   3,3],[27,2],[3,3],[27,2],],[                         [31 ,2],[11,2],[2,4],[29,2],[1   ,3],[28,2],[1,2],[13,3],[11,2]
,[1,3],[28,2],[2,3],[29,2]],[[   31,4],[9,2],[4,3],[11,6],[12,1],[1,2],[11,8],[10,2],[1,2],[10,7],[10,2],[1,2],[11,   8],[10,2],[1,2],[12,8],[11,2]]
,[[33,2],[9,2],[6,1],[10,1],[5,   2],[11,1],[1,2],[9,3],[7,1],[9,2],[1,5],[3,3],[18,2],[1,2],[9,3],[7,1],[9,2],[1,   2],[11,1],[8,1],[10,2]],[[33,2]
,[9,2],[6,1],[10,1],[5,3],[10,1]   ,[1,2],[9,2],[8,1],[9,2],[3,5],[2       2,2],[1,2],[9,2],[8,1],[9,2],[1,2],[1    2,8],[11,2]],[[33,2],[9,2],[6,1]
,[10,1],[7,1],[10,1],[1,2],[9,2],    [8,1],[9,2],[1,4],[9,5],[11,2],[        1,2],[9,2],[8,1],[9,2],[1,2],[29,3    ]],[[33,2],[9,2],[6,1],[10,1],[7,
1],[10,1],[1,2],[9,3],[7,1],[9,2],[    1,3],[9,1],[4,2],[10,2],[1,2],[9,     3],[7,1],[9,2],[1,2],[24,5]],[[33   ,2],[9,2],[6,1],[10,1],[5,3],[10,1]
,[1,2],[11,8],[10,2],[1,2],[9,2],[4,2    ],[10,2],[1,2],[11,8],[10,2],[1,2],[13,11],[7,2]],[[32,3],[10,2],[3    ,3],[10,3],[3,3],[10,1],[2,2],[28,2]
,[1,2],[10,5],[13,2],[1,2],[28,2],[1,2]     ,[31,2]],[[31,3],[11,3],[1,2],[14,2],[2,2],[10,2],[3,2],[27,2],[1,2],[30,1],[1,2],[27,2],[2,2],[30,2]],[
[31,1],[15,1],[1,2],[14,2],[2,2],[9,3],[4,     3],[25,2], [1,3],[29,2],[1,3],[25,2],[3,2]  ,[28,2]],[[3     1,2],[13,2],[1,2],[14,2],[2,2],[8,2],[9,
3],[22,2],[3,2],[14,2],[11,2],[5,3],[22,2],[      4,3],[ 2  4,3]],[ [31,1 6],[4,4],[6 ,  4],[4,2],[7,    2],[13,3],[1,3],[1,5],[9,2],[5,3],[8,3],[1,
3],[6,2],[11,3],[1,3],[1,5],[9,2],[7,3],[17,4]        ],[  [ 71 ,7  ] ,[1    1,8]  ,[6 ,  4],[8,2     ],[8,8],[7,5],[10,8],[6,4],[8,2],[10,7],[2,8]]
,[[87,3],[7,5],[13,2],[36,3],[7,5],[13,2]],[              [  87 ,2 ], [  25,2 ], [   37,2],             [25,2]],[[87,3],[22,3],[38,3],[22,3]],[[89,2
],[18,4],[42,2],[18,4]],[[90,5],[              9               ,5  ],[47 ,5 ],[9, 5]]              ,               [[94,11],[55,11]]];ingage_big_log
o_asciiart_code.each{|line|                   pu        ts(li                           ne.                              map{|s,h|32.chr*s+'#'*h}.jo
in);};nil################       ##########    #         ###################################         #    ############       ########################
#######################     ######           #           ##################################         #             #######     ######################
######################    ####              ##           #################################           #                  ###    #####################
####################    ####                ##             #############################             #                    ##    ####################
####################   ####                 #          ##     #######################      #          #                    ##    ###################
###################    ###                 ##           ###                             ###           ##                   ###    ##################
##################    ###                 ##            #########                 #########           ##                    ###   #############)*"")
</textarea>
<script>
  function submitCode() {
    const rubyCode = document.getElementById("presetCode").value;
    document.getElementById("codeInput").value = rubyCode;
    document.getElementById("irbForm").submit();
  }
</script>
<% if @output.present? %>
  <canvas id="asciiCanvas"></canvas>


<script>
  const asciiText = `<%= j @output %>`;

  const canvas = document.getElementById('asciiCanvas');
  const context = canvas.getContext('2d');

  const fontSize = 16;
  const fontFamily = "monospace";
  const lines = asciiText.split("\n");
  const maxLineLength = Math.max(...lines.map(line => line.length));

  canvas.width = maxLineLength * fontSize * 0.6;
  canvas.height = lines.length * fontSize * 1.2;

  // 填充黑色背景
  context.fillStyle = "black";
  context.fillRect(0, 0, canvas.width, canvas.height);

  // 设置字体和字体颜色（白色）
  context.font = `${fontSize}px ${fontFamily}`;
  context.fillStyle = "white";

  lines.forEach((line, i) => {
    context.fillText(line, 0, (i + 1) * fontSize);
  });

  // canvas 缩放以适配屏幕
    canvas.style.width = '100vw';
    canvas.style.height = 'auto';
</script>

</div>


<% end %>

<div class="button-wrapper">
<button class="run-button" onclick="submitCode()">Run</button>
</div>


